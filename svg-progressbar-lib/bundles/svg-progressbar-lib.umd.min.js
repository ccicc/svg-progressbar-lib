!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/platform-browser"),require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("svg-progressbar-lib",["exports","@angular/platform-browser","@angular/core","@angular/common"],e):e(t["svg-progressbar-lib"]={},t.ng.platformBrowser,t.ng.core,t.ng.common)}(this,function(t,e,i,r){"use strict";var n=function(){function t(t){this.document=t,this._SVG_NS="http://www.w3.org/2000/svg",this._DEGREES_TO_RADIANS=Math.PI/180,this.supportedSvg=!!(this.document&&this.document.createElementNS&&this.document.createElementNS(this._SVG_NS,"svg").createSVGRect),this.supportedPerfor="undefined"!=typeof window&&window.performance&&window.performance.now&&"number"==typeof window.performance.now()}return t.prototype.getTimestamp=function(){return this.supportedPerfor?window.performance.now():Date.now()},t.prototype.getPathArc=function(t,e,r,n,o){void 0===o&&(o=!1);var i=Math.max(0,Math.min(t||0,e)),a=o?180:360,s=0===e?a:i/e*a;return"M "+this._getCoordinate(r,n,0)+" A "+n+" "+n+" 0 "+(s<=180?0:1)+" 1 "+this._getCoordinate(r,n,s)},t.prototype._getCoordinate=function(t,e,r){var n=this._DEGREES_TO_RADIANS*(r-90);return t+e*Math.cos(n)+" "+(t+e*Math.sin(n))},t.decorators=[{type:i.Injectable}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:i.Optional},{type:i.Inject,args:[e.DOCUMENT]}]}]},t}(),o={radius:100,semicycle:!1,color:"#666699",background:"#cccccc",strokeWidth:10,responsive:!1,rounded:!1,clockwise:!1,currVal:60,total:360,duration:3e3,animation:"linearEase",delay:0},a=new i.InjectionToken("SVG_PROGRESSBAR_LIB_CONFIG"),s={provide:a,useValue:o},u=function(){function t(){}return t.prototype.linearEase=function(t,e,r,n){return r*t/n+e},t.prototype.easeInQuad=function(t,e,r,n){return r*(t/=n)*t+e},t.prototype.easeOutQuad=function(t,e,r,n){return-r*(t/=n)*(t-2)+e},t.prototype.easeInOutQuad=function(t,e,r,n){return(t/=n/2)<1?r/2*t*t+e:-r/2*(--t*(t-2)-1)+e},t.prototype.easeInCubic=function(t,e,r,n){return r*(t/=n)*t*t+e},t.prototype.easeOutCubic=function(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e},t.prototype.easeInOutCubic=function(t,e,r,n){return(t/=n/2)<1?r/2*t*t*t+e:r/2*((t-=2)*t*t+2)+e},t.prototype.easeInQuart=function(t,e,r,n){return r*(t/=n)*t*t*t+e},t.prototype.easeOutQuart=function(t,e,r,n){return-r*((t=t/n-1)*t*t*t-1)+e},t.prototype.easeInOutQuart=function(t,e,r,n){return(t/=n/2)<1?r/2*t*t*t*t+e:-r/2*((t-=2)*t*t*t-2)+e},t.prototype.easeInQuint=function(t,e,r,n){return r*(t/=n)*t*t*t*t+e},t.prototype.easeOutQuint=function(t,e,r,n){return r*((t=t/n-1)*t*t*t*t+1)+e},t.prototype.easeInOutQuint=function(t,e,r,n){return(t/=n/2)<1?r/2*t*t*t*t*t+e:r/2*((t-=2)*t*t*t*t+2)+e},t.prototype.easeInSine=function(t,e,r,n){return-r*Math.cos(t/n*(Math.PI/2))+r+e},t.prototype.easeOutSine=function(t,e,r,n){return r*Math.sin(t/n*(Math.PI/2))+e},t.prototype.easeInOutSine=function(t,e,r,n){return-r/2*(Math.cos(Math.PI*t/n)-1)+e},t.prototype.easeInExpo=function(t,e,r,n){return 0==t?e:r*Math.pow(2,10*(t/n-1))+e},t.prototype.easeOutExpo=function(t,e,r,n){return t==n?e+r:r*(1-Math.pow(2,-10*t/n))+e},t.prototype.easeInOutExpo=function(t,e,r,n){return 0==t?e:t==n?e+r:(t/=n/2)<1?r/2*Math.pow(2,10*(t-1))+e:r/2*(2-Math.pow(2,-10*--t))+e},t.prototype.easeInCirc=function(t,e,r,n){return-r*(Math.sqrt(1-(t/=n)*t)-1)+e},t.prototype.easeOutCirc=function(t,e,r,n){return r*Math.sqrt(1-(t=t/n-1)*t)+e},t.prototype.easeInOutCirc=function(t,e,r,n){return(t/=n/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+e:r/2*(Math.sqrt(1-(t-=2)*t)+1)+e},t.prototype.easeInElastic=function(t,e,r,n){var o=1.70158,i=.3*n,a=r;return 0==t?e:1==(t/=n)?e+r:(o=a<Math.abs(r)?(a=r,i/4):i/(2*Math.PI)*Math.asin(r/a),-a*Math.pow(2,10*t--)*Math.sin((t*n-o)*(2*Math.PI)/i)+e)},t.prototype.easeOutElastic=function(t,e,r,n){var o=1.70158,i=.3*n,a=r;return 0==t?e:1==(t/=n)?e+r:(o=a<Math.abs(r)?(a=r,i/4):i/(2*Math.PI)*Math.asin(r/a),a*Math.pow(2,-10*t)*Math.sin((t*n-o)*(2*Math.PI)/i)+r+e)},t.prototype.easeInOutElastic=function(t,e,r,n){var o=1.70158,i=n*(.3*1.5),a=r;return 0==t?e:2==(t/=n/2)?e+r:(o=a<Math.abs(r)?(a=r,i/4):i/(2*Math.PI)*Math.asin(r/a),t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/i)*-.5+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/i)*.5+r+e)},t.prototype.easeInBack=function(t,e,r,n,o){return void 0===o&&(o=1.70158),r*(t/=n)*t*((o+1)*t-o)+e},t.prototype.easeOutBack=function(t,e,r,n,o){return void 0===o&&(o=1.70158),r*((t=t/n-1)*t*((o+1)*t+o)+1)+e},t.prototype.easeInOutBack=function(t,e,r,n,o){return void 0===o&&(o=1.70158),(t/=n/2)<1?r/2*(t*t*((1+(o*=1.525))*t-o))+e:r/2*((t-=2)*t*((1+(o*=1.525))*t+o)+2)+e},t.prototype.easeInBounce=function(t,e,r,n){return r-this.easeOutBounce(n-t,0,r,n)+e},t.prototype.easeOutBounce=function(t,e,r,n){return(t/=n)<1/2.75?r*(7.5625*t*t)+e:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+e:r*(7.5625*(t-=2.625/2.75)*t+.984375)+e},t.prototype.easeInOutBounce=function(t,e,r,n){return t<n/2?.5*this.easeInBounce(2*t,0,r,n)+e:.5*this.easeOutBounce(2*t-n,0,r,n)+.5*r+e},t.decorators=[{type:i.Injectable}],t}(),p=function(){function t(t,e,r,n,o){this._progressbarService=t,this._progressbarEase=e,this._renderer=r,this._ngZone=n,this._progressbarConfig=o,this.valueChanged=new i.EventEmitter,this.radius=this._progressbarConfig.radius,this.semicycle=this._progressbarConfig.semicycle,this.color=this._progressbarConfig.color,this.background=this._progressbarConfig.background,this.strokeWidth=this._progressbarConfig.strokeWidth,this.rounded=this._progressbarConfig.rounded,this.currVal=this._progressbarConfig.currVal,this.total=this._progressbarConfig.total,this.duration=this._progressbarConfig.duration,this.animation=this._progressbarConfig.animation,this.delay=this._progressbarConfig.delay,this.clockwise=this._progressbarConfig.clockwise,this.responsive=this._progressbarConfig.responsive,this._animateId=0}return Object.defineProperty(t.prototype,"_role",{get:function(){return"svg-progressbar"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_width",{get:function(){return this.responsive?"":this._diameter+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_height",{get:function(){if(!this.responsive)return(this.semicycle?this.radius:this._diameter)+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_paddingBottom",{get:function(){if(this.responsive)return this.semicycle?"50%":"100%"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_viewbox",{get:function(){var t=this._diameter;return"0 0 "+t+" "+(this.semicycle?this.radius:t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_diameter",{get:function(){return 2*this.radius},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){t.currVal?this._animateChange(t.currVal.previousValue,t.currVal.currentValue):this._setPath(this.currVal)},t.prototype._getPathTransform=function(){return this.semicycle?this.clockwise?"translate(0, "+this._diameter+") rotate(-90)":"translate("+this._diameter+", "+this._diameter+") rotate(90) scale(-1,1)":this.clockwise?void 0:"scale(-1, 1) translate("+-this._diameter+" 0)"},t.prototype._animateChange=function(t,e){"number"!=typeof t&&(t=0);var i=this._clamp(t),a=this._clamp(e)-i,s=this;this._ngZone.runOutsideAngular(function(){var t=function(){var r=++s._animateId,n=s._progressbarService.getTimestamp();requestAnimationFrame(function o(){var t=Math.min(s._progressbarService.getTimestamp()-n,s.duration),e=s._progressbarEase[s.animation](t,i,a,s.duration);s._setPath(e),s.valueChanged.emit(e),r===s._animateId&&t<s.duration&&requestAnimationFrame(o)})};0<s.delay?setTimeout(t,s.delay):t()})},t.prototype._clamp=function(t){return Math.max(0,Math.min(t||0,this.total))},t.prototype._setPath=function(t){var e=this._progressbarService.getPathArc(t,this.total,this.radius,this.radius-this.strokeWidth/2,this.semicycle);this._renderer.setAttribute(this.pathEle.nativeElement,"d",e)},t.decorators=[{type:i.Component,args:[{selector:"nlq-svg-progressbar-lib",template:'<svg [attr.viewBox]="_viewbox" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <circle\n    fill="none"\n    [attr.cx]="radius"\n    [attr.cy]="radius"\n    [attr.r]="radius - strokeWidth / 2"\n    [attr.stroke]="background"\n    [attr.stroke-width]="strokeWidth"\n  />\n  <path\n    #path\n    fill="none"\n    [attr.stroke]="color"\n    [attr.stroke-width]="strokeWidth"\n    [attr.stroke-linecap]="rounded ? \'round\' : \'\'"\n    [attr.transform]="_getPathTransform()"\n  />\n</svg>\n',styles:[":host{position:relative;display:block;overflow:hidden}:host(.responsive){width:100%;padding-bottom:100%}:host(.responsive) svg{position:absolute;top:0;left:0;width:100%;height:100%}"]}]}],t.ctorParameters=function(){return[{type:n},{type:u},{type:i.Renderer2},{type:i.NgZone},{type:undefined,decorators:[{type:i.Inject,args:[a]}]}]},t.propDecorators={valueChanged:[{type:i.Output}],pathEle:[{type:i.ViewChild,args:["path"]}],radius:[{type:i.Input}],semicycle:[{type:i.Input}],color:[{type:i.Input}],background:[{type:i.Input}],strokeWidth:[{type:i.Input}],rounded:[{type:i.Input}],currVal:[{type:i.Input}],total:[{type:i.Input}],duration:[{type:i.Input}],animation:[{type:i.Input}],delay:[{type:i.Input}],clockwise:[{type:i.Input}],responsive:[{type:i.Input},{type:i.HostBinding,args:["class.responsive"]}],_role:[{type:i.HostBinding,args:["attr.role"]}],_width:[{type:i.HostBinding,args:["style.width"]}],_height:[{type:i.HostBinding,args:["style.height"]}],_paddingBottom:[{type:i.HostBinding,args:["style.padding-bottom"]}]},t}(),c=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[p],imports:[r.CommonModule],providers:[n,s,u],exports:[p]}]}],t}();t.SvgProgressbarLibService=n,t.SvgProgressbarLibComponent=p,t.SvgProgressbarLibModule=c,t.SvgProgressbarLibDefaults=o,t.SVG_PROGRESSBAR_LIB_CONFIG=a,t.SVG_PROGRESSBAR_LIB_PROVIDER=s,t.SvgProgressbarLibEase=u,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=svg-progressbar-lib.umd.min.js.map